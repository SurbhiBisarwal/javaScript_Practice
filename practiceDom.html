<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sum of Inputs</title>
    <style>
        .errMsg {
            color: red;
            font-weight: bold;
        }
    </style>
</head>
<body>
    Name:<input type="text" id="name1">
    <span id="nameError" class="errMsg"></span><br>
    Age:<input type="text" id="age1">
    <span id="ageError" class="errMsg"></span><br>
    City:<input type="text" id="city1">
    <span id="cityError" class="errMsg"></span><br>
    Technology:<input type="text" id="tech1">
    <span id="techError" class="errMsg"></span><br>
    <button onclick="addPerson()" id="btn1">Add Person</button>
    
    <div id="txt1"></div>
    <script>
        let array = [
            {name: "Jack", age: 28, city: "London", tech: "Android"},
            {name: "Mary", age: 32, city: "Paris", tech: "React"},
            {name: "Bob", age: 35, city: "New York", tech: "Angular"},
            {name: "Steve", age: 26, city: "Delhi", tech: "Spring"}
        ];

        function addPerson() {
            let pName = document.getElementById("name1").value;
            let pAge = parseInt(document.getElementById("age1").value);
            let pCity = document.getElementById("city1").value;
            let pTech = document.getElementById("tech1").value;

            let nameError = document.getElementById("nameError");
            let ageError = document.getElementById("ageError");
            let cityError=document.getElementById("cityError");
            let techError=document.getElementById("techError");
            let btn = document.getElementById("btn1");

            // Reset previous error messages
            nameError.innerHTML = "";
            ageError.innerHTML = "";
            cityError.innerHTML="";
            techError.innerHTML="";
            btn.disabled = false;


if(nameExists(pName) || pAge < 18 || !cityExists(pCity) || !techExists(pTech)){

            if (nameExists(pName)) {
                console.log('pName::>',pName);
                nameError.innerHTML = "Name already exists, please choose another name";
                btn.disabled = true;
            }
            if (pAge < 18) {
                console.log('pAge::>',pAge);
                ageError.innerHTML = "Age must be at least 18";
                btn.disabled = true;
            } 
            
            if(!cityExists(pCity))
            {
                console.log('pCity::>',pCity);
                cityError.innerHTML = "Enter city from London,Paris,Delhi,NewYork ";
                btn.disabled = true;
            }
            
            if (!techExists(pTech)) {
                console.log('pTech::>',pTech);
                techError.innerHTML = "Enter tech from Android, React, Angular, Spring";
                btn.disabled = true;
            }
        }else {
                let person = {name: pName, age: pAge, city: pCity, tech: pTech};
                array.push(person);
                console.log(array);
            }
        }

        function nameExists(name) {
            for (let i = 0; i < array.length; i++) {
                if (array[i].name.toLowerCase() === name.toLowerCase()) {
                    return true;
                }
            }
            return false;
        }
        function cityExists(city) {
            for (let i = 0; i < array.length; i++) {
                if (array[i].city.toLowerCase() === city.toLowerCase()) {
                    return true;
                }
            }
            return false;
        }
        function techExists(tech) {
            for (let i = 0; i < array.length; i++) {
                if (array[i].tech.toLowerCase() === tech.toLowerCase()) {
                    return true;
                }
            }
            return false;
        }
    </script>
</body>
</html>
